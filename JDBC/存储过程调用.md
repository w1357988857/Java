•        调用存储过程使用CallableStatement，可以通过Connection的prepareCall方法来创建CallableStatement对象，创建该对象时需要传入调用存储过程的SQL语句，调用存储过程的SQL语句总是这种格式：{call 过程名(?,?,?...)}，其中的问号作为存储过程参数的占位

•        存储过程的参数既有传入参数，也有传出参数。所谓传入参数就是Java程序必须为这些参数传入值，那么可以通过CallableStatement的setXxx方法为传入参数设置值；所谓传出参数就是Java程序可以通过该参数获取存储过程里的值，那么CallableStatement需要调用registerOutParameter方法来注册该参数

```
public void call(int page,int pageSize) {
		
		CallableStatement cs = null;
		ResultSet rs = null;
		Connection conn = SingleConnection.getInstance().getConnection();
		String sql = "{call p_page_content(?,?)}";
		try {
			cs = conn.prepareCall(sql);
			cs.setInt(1, page);
			cs.setInt(2, pageSize);
			rs = cs.executeQuery();
			
			while (rs.next()) {
				System.out.println(rs.getString(2));
			}
			
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} finally {
			close(rs);
			close(cs);
		}
	}

```

```
public void callOutput(String sno) {

		CallableStatement cs = null;
		ResultSet rs = null;
		Connection conn = SingleConnection.getInstance().getConnection();
		String sql = "{call p_stu_i_o(?,?)}";
		try {
			cs = conn.prepareCall(sql);
			cs.setString(1, sno);
			cs.registerOutParameter(2, Types.NVARCHAR);
			cs.execute();
			System.out.println(cs.getString(2));
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} finally {
			close(rs);
			close(cs);
		}
	}

```

```
private void close(AutoCloseable close) {
		if (null != close) {
			try {
				close.close();
			} catch (Exception e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
	}

```

```
CallableDemo cd = new CallableDemo();
		cd.call(2,3);
		System.out.println("======================");
		cd.callOutput("200215121");

```

