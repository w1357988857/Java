•JDBC还提供了一个批量更新的功能，使用批量更新时，多条SQL语句将会被作为一批操作被同时收集、并同时提交。

•批量更新必须得到底层数据库的支持，可以通过调用DatabaseMetaData的supportsBatchUpdates方法来查看底层数据库是否支持批量更新。

•使用批量更新也需要先创建一个Statement对象，然后利用该对象addBatch方法将多条SQL语句同时收集起来，最后调用Statement对象的executeBatch同时执行这些SQL语句。

```
public void batch() {
		Connection conn = SingleConnection.getInstance().getConnection();
		
		Statement stmt = null;
		try {
			DatabaseMetaData dmd = conn.getMetaData();
			// 可用来获取数据库相应的参数信息
			System.out.println(dmd.getDriverName());
			
			if (dmd.supportsBatchUpdates()) {
				System.out.println("可進行批量更新");
				
				stmt = conn.createStatement();
				
				
				for (int i = 0 ; i < 100; i ++) {
					String sql = "insert into tt values(" + i + ", '张飞" + i + "'" + ")";
					stmt.addBatch(sql);
				}
				
				int[] effectCount = stmt.executeBatch();
				
				System.out.println(effectCount.length);
				
				System.out.println(effectCount[20]);
				
				
			} else {
				System.out.println("不能進行批量更新");
			}
		
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} finally {
			close(stmt);
		}
	}

```

### 多表关联

